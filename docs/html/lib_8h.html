<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Container Management Tool: src/lib/lib.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Container Management Tool
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_c85d3e3c5052e9ad9ce18c6863244a25.html">lib</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">lib.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file contains the definitions of the functions used in lib.c regarding LXC containers operations.  
<a href="#details">More...</a></p>
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="lib_8h__dep__incl.png" border="0" usemap="#asrc_2lib_2lib_8hdep" alt=""/></div>
</div>
</div>
<p><a href="lib_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a33616ca79a4736c394b1388f4ed5d23b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_8h.html#a33616ca79a4736c394b1388f4ed5d23b">create_new_container</a> (const char *container_name)</td></tr>
<tr class="memdesc:a33616ca79a4736c394b1388f4ed5d23b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new LXC container object.  <a href="lib_8h.html#a33616ca79a4736c394b1388f4ed5d23b">More...</a><br /></td></tr>
<tr class="separator:a33616ca79a4736c394b1388f4ed5d23b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9908583fcfd0731f46829dac5a993ab1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_8h.html#a9908583fcfd0731f46829dac5a993ab1">remove_container</a> (const char *container_name)</td></tr>
<tr class="memdesc:a9908583fcfd0731f46829dac5a993ab1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove an existing LXC container object.  <a href="lib_8h.html#a9908583fcfd0731f46829dac5a993ab1">More...</a><br /></td></tr>
<tr class="separator:a9908583fcfd0731f46829dac5a993ab1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fcc6feeff3a69139243f237a9a5293d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_8h.html#a5fcc6feeff3a69139243f237a9a5293d">list_containers</a> (void)</td></tr>
<tr class="memdesc:a5fcc6feeff3a69139243f237a9a5293d"><td class="mdescLeft">&#160;</td><td class="mdescRight">List all the active LXC containers.  <a href="lib_8h.html#a5fcc6feeff3a69139243f237a9a5293d">More...</a><br /></td></tr>
<tr class="separator:a5fcc6feeff3a69139243f237a9a5293d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a511a969c07cd10291c1e44aaf9bb1dc2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_8h.html#a511a969c07cd10291c1e44aaf9bb1dc2">start_connection</a> (const char *container_name)</td></tr>
<tr class="memdesc:a511a969c07cd10291c1e44aaf9bb1dc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to the shell of a given LXC container.  <a href="lib_8h.html#a511a969c07cd10291c1e44aaf9bb1dc2">More...</a><br /></td></tr>
<tr class="separator:a511a969c07cd10291c1e44aaf9bb1dc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4ddcb8c152ed53ae283726f3d2bc0db"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_8h.html#ab4ddcb8c152ed53ae283726f3d2bc0db">run_command_in_container</a> (const char *container_name, char *command)</td></tr>
<tr class="memdesc:ab4ddcb8c152ed53ae283726f3d2bc0db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run a shell command in a LXC container.  <a href="lib_8h.html#ab4ddcb8c152ed53ae283726f3d2bc0db">More...</a><br /></td></tr>
<tr class="separator:ab4ddcb8c152ed53ae283726f3d2bc0db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad27ecf4327174946f44264327700ddcd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_8h.html#ad27ecf4327174946f44264327700ddcd">copy_file_to_container</a> (const char *container_name, const char *file_name)</td></tr>
<tr class="memdesc:ad27ecf4327174946f44264327700ddcd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy a file to a LXC container home directory.  <a href="lib_8h.html#ad27ecf4327174946f44264327700ddcd">More...</a><br /></td></tr>
<tr class="separator:ad27ecf4327174946f44264327700ddcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd962a2b6ca5d3bd24d35f681e57eac8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_8h.html#abd962a2b6ca5d3bd24d35f681e57eac8">define_limits_of_system_resources</a> (const char *container_name, const char *cgroup_subsystem, const char *cgroup_value)</td></tr>
<tr class="memdesc:abd962a2b6ca5d3bd24d35f681e57eac8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define limits of system resources for a LXC container by setting cgroup values.  <a href="lib_8h.html#abd962a2b6ca5d3bd24d35f681e57eac8">More...</a><br /></td></tr>
<tr class="separator:abd962a2b6ca5d3bd24d35f681e57eac8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a936f1b8bc4c41d13df878cba833afba0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_8h.html#a936f1b8bc4c41d13df878cba833afba0">check_limits_of_system_resources</a> (const char *container_name, const char *cgroup_subsystem)</td></tr>
<tr class="memdesc:a936f1b8bc4c41d13df878cba833afba0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the limits of system resources for a LXC container by showing the current cgroup values.  <a href="lib_8h.html#a936f1b8bc4c41d13df878cba833afba0">More...</a><br /></td></tr>
<tr class="separator:a936f1b8bc4c41d13df878cba833afba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains the definitions of the functions used in lib.c regarding LXC containers operations. </p>
<p>This file contains the definitions of the functions used in lib.c The functions are used to create, remove, list, start, run commands, run applications, copy files, define limits and check limits of system resources on these containers</p>
<dl class="section author"><dt>Author</dt><dd>Sim√£o Andrade </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2024-06-13 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a936f1b8bc4c41d13df878cba833afba0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a936f1b8bc4c41d13df878cba833afba0">&#9670;&nbsp;</a></span>check_limits_of_system_resources()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int check_limits_of_system_resources </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>container_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cgroup_subsystem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the limits of system resources for a LXC container by showing the current cgroup values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">container_name</td><td>name of the container </td></tr>
    <tr><td class="paramname">cgroup_subsystem</td><td>cgroup subsystem (resource)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int 0 on success, -1 on failure </dd></dl>

</div>
</div>
<a id="ad27ecf4327174946f44264327700ddcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad27ecf4327174946f44264327700ddcd">&#9670;&nbsp;</a></span>copy_file_to_container()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int copy_file_to_container </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>container_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy a file to a LXC container home directory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">container_name</td><td>name of the container </td></tr>
    <tr><td class="paramname">file_name</td><td>name of the file</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int 0 on success, -1 on failure </dd></dl>

</div>
</div>
<a id="a33616ca79a4736c394b1388f4ed5d23b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33616ca79a4736c394b1388f4ed5d23b">&#9670;&nbsp;</a></span>create_new_container()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int create_new_container </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>container_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new LXC container object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">container_name</td><td>name of the container </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int 0 on success, -1 on failure </dd></dl>

</div>
</div>
<a id="abd962a2b6ca5d3bd24d35f681e57eac8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd962a2b6ca5d3bd24d35f681e57eac8">&#9670;&nbsp;</a></span>define_limits_of_system_resources()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int define_limits_of_system_resources </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>container_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cgroup_subsystem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cgroup_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define limits of system resources for a LXC container by setting cgroup values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">container_name</td><td>name of the container </td></tr>
    <tr><td class="paramname">cgroup_subsystem</td><td>cgroup subsystem (resource) </td></tr>
    <tr><td class="paramname">cgroup_value</td><td>cgroup value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int 0 on success, -1 on failure </dd></dl>

</div>
</div>
<a id="a5fcc6feeff3a69139243f237a9a5293d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fcc6feeff3a69139243f237a9a5293d">&#9670;&nbsp;</a></span>list_containers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int list_containers </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List all the active LXC containers. </p>
<dl class="section return"><dt>Returns</dt><dd>int 0 on success, -1 on failure </dd></dl>

</div>
</div>
<a id="a9908583fcfd0731f46829dac5a993ab1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9908583fcfd0731f46829dac5a993ab1">&#9670;&nbsp;</a></span>remove_container()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int remove_container </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>container_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove an existing LXC container object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">container_name</td><td>name of the container</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int 0 on success, -1 on failure </dd></dl>

</div>
</div>
<a id="ab4ddcb8c152ed53ae283726f3d2bc0db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4ddcb8c152ed53ae283726f3d2bc0db">&#9670;&nbsp;</a></span>run_command_in_container()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int run_command_in_container </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>container_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>command</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run a shell command in a LXC container. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">container_name</td><td>name of the container </td></tr>
    <tr><td class="paramname">command</td><td>shell command to execute </td></tr>
    <tr><td class="paramname">command_length</td><td>length of the command</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int 0 on success, -1 on failure </dd></dl>

</div>
</div>
<a id="a511a969c07cd10291c1e44aaf9bb1dc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a511a969c07cd10291c1e44aaf9bb1dc2">&#9670;&nbsp;</a></span>start_connection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int start_connection </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>container_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connect to the shell of a given LXC container. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">container_name</td><td>name of the container</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int 0 on success, -1 on failure </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
